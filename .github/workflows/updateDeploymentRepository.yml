name: Update the deployment repository

on:
  push:
    branches:
      - main

jobs:
  Update-the-repository:
    permissions:
      contents: write
    runs-on: ubuntu-latest
    environment: ACCESS_TOKEN
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
        with:
          token: ${{ secrets.GITHUB_TOKEN }}

      - name: Git configuration
        run: |
          git config --global user.email vuwin24680@gmail.com
          git config --global user.name cielaton

      - name: Repository configuration and pushing
        run: |
          git config --list
          git remote set-url origin https://github.com/cielaton/cielaton.github.io.git
          git push origin main
